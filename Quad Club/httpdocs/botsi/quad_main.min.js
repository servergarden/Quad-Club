function loadXMLDoc(e,t){xmlhttp=new XMLHttpRequest,xmlhttp.onreadystatechange=t,xmlhttp.open("GET",e,!0),xmlhttp.send()}var adjustments_de={dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M채rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesMin:["Jan","Feb","M채r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],years:[]},botsi_content,folders,folder_text,lp,clicker,imagesloaded=!0,disable_img_load=!1,color=0,colors=["rgb(111,71,71)","rgb(209,125,16)","rgb(71, 111, 71)","rgb(71, 111, 111)","rgb(71, 71, 111)","rgb(111, 71, 111)"],add_zeros=function(e){var t=e>9?"":"0",i=e>99?"":"0";return i+t+e},load_image=function(e,t,i){return 1==disable_img_load?void(disable_img_load=!1):(ni=new Image,ni.onload=function(){if(1==e&&folder_text.length>0?ih+='<div id="album_txt_display">'+folder_text[0]+'</div><img src="'+ni.src+'" onclick="sh_big(this,'+parseInt(ni.width/ni.height)+')" style="border-color:'+i+';"/><div class="positioner" id="p'+e+'"></div>':ih+='<img src="'+ni.src+'" onclick="sh_big(this,'+parseInt(ni.width/ni.height)+')" style="border-color:'+i+';"/><div class="positioner" id="p'+e+'"></div>',e++,7==e){botsi_content.innerHTML=ih;var n=.98*window.innerHeight-(botsi_content.children[botsi_content.children.length-2].getBoundingClientRect().bottom+80);ih="",n<48&&(n=48),botsi_content.innerHTML+='<i id="wait_awe" style="color:'+i+";font-size:"+n+'px;" class="fa fa-circle-o-notch fa-spin aria-hidden="true"></i>',botsi_content.classList.add("show_kacheln"),actualize_menu(t,i)}load_image(e,t,i),dis_big.gal_max=e},ni.onerror=function(){botsi_content.removeChild(document.querySelector("#wait_awe")),botsi_content.innerHTML+=ih,imagesloaded=!0},void(ni.src="../images/years/"+t+"/"+add_zeros(e)+".jpg"))},build_menu=function(e){var t=0,i=document.createElement("div");i.id="party_selector",i.setAttribute("val",""),i.classList.add("dropdown");for(var n='<li style="background:rgb(255,255,255);"><div onclick="change_from_menu(this)" val ="index">Party ausw채hlen</div></li>',o=0;o<e.length;o++)t++,t>5&&(t=0),n+='<li style="background:'+colors[t]+';"><div onclick="change_from_menu(this)" val ="'+e[o]+colors[t]+'">'+folder_to_date(e[o])+"</div></li>";i.innerHTML='<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Party ausw채hlen<span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="dropdownMenu1">'+n+"</ul>",botsi_content.parentNode.appendChild(i)},change_from_menu=function(e){dis_big.classList.add("display_big_ini"),r=e.getAttribute("val").split("rgb"),e.parentNode.parentNode.setAttribute("val",r),"index"==r[0]?talk():imagesloaded?sh_big(e,r[0],"rgb"+r[1]):(disable_img_load=!0,setTimeout(function(){sh_big(e,r[0],"rgb"+r[1])},50))},actualize_menu=function(e,t){document.getElementById("party_selector").setAttribute("val",e+t),document.getElementById("party_selector").getElementsByTagName("button")[0].innerHTML="Party vom "+folder_to_date(e),document.getElementById("party_selector").getElementsByTagName("button")[0].style.background=t},folder_to_date=function(e){var t=e.split("_");return(2==t.length?adjustments_de.monthNames[parseInt(t[1])-1]:t[2].replace("0","")+". "+adjustments_de.monthNames[parseInt(t[1])-1])+" "+t[0]},come_lp=function(e,t,i){for(var n="Party vom "+folder_to_date(t),o=0-n.length/2*12+6,r='<img src="images/galery_sys/single_transp.png" /><div id="warped">',s=0;s<n.length;s++)r+='<span class="w'+s+'">'+n.charAt(s)+"</span>";r+="</div>",lp.innerHTML=r,lp.onclick=function(){sh_big(e,t,i)},lp.style.transform="rotate("+o+"deg)",lp.style.background="radial-gradient(rgba(0,0,0,0) 2.4vw, "+i+" 2.4vw, "+i+" 10vw, rgba(0,0,0,0) 10vw)",lp.style.left=e.getBoundingClientRect().left+"px",lp.style.top=e.offsetTop+"px",lp.classList.remove("display_big_ini")},talk=function(){botsi_content.innerHTML="";var e,t="",i=0;color=0;var n=function(i){color++,color>5&&(color=0),e=new Image,e.onload=function(){t+='<img src="'+e.src+'" onmouseover="come_lp(this,\''+folders[i]+"','"+colors[color]+'\')" style="border-color:'+colors[color]+';"/>',i++,i<folders.length?n(i):(botsi_content.innerHTML+=t,botsi_content.classList.add("show_kacheln"),build_menu(folders))},e.onerror=function(){console.log("oki, done (error onload). f is: ",i),botsi_content.innerHTML+=t},e.src="../images/years/"+folders[i]+"/001.jpg"};n(i)},rech=function(e){return w=(window.innerWidth-e.offsetWidth)/2/window.innerWidth*100-1,h=(window.innerHeight-e.offsetHeight)/2/window.innerHeight*100-1,[w,h]},sh_big=function(e,t,i){if("undefined"!=typeof t)if(isNaN(t))if(e.parentNode.parentNode.previousSibling.innerHTML=e.innerHTML+'<span class="caret"></span>',botsi_content.innerHTML=ih="",botsi_content.classList.remove("opc_dwn"),lp.classList.add("display_big_ini"),imagesloaded=!1,folder_text=[],document.getElementById("quad_galery_text_"+t)){var n=document.getElementById("quad_galery_text_"+t).innerText.split("\n");if(n.length>0){folder_text[0]="";for(var o=0;o<n.length;o++)"photo"==n[o].substring(0,5).toLowerCase()?folder_text.push(n[o]):folder_text[0]+=n[o]+"<br/>"}load_image(1,t,i)}else console.log("no quad_galery_text"),load_image(1,t,i);else botsi_content.classList.add("opc_dwn"),dis_big.classList.remove("img_high"),dis_big.classList.remove("display_big_ini"),dis_big.style.borderColor=clicker.style.background=e.style.borderColor,dis_big.children[1].onload=function(){align_dis_big();var e=parseInt(dis_big.children[1].src.substring(dis_big.children[1].src.length-7,dis_big.children[1].src.length-4));document.getElementById("p"+e).scrollIntoView({block:"start",behavior:"smooth"}),document.getElementById("txt_display").style.display="none";for(var t=1;t<folder_text.length;t++)if(parseInt(folder_text[t].substring(6,8))==e){document.getElementById("txt_display").style.background=dis_big.style.borderColor,document.getElementById("txt_display").innerHTML=folder_text[t].substring(9),document.getElementById("txt_display").style.display="block";break}},dis_big.children[1].src=e.src;else botsi_content.classList.remove("opc_dwn"),dis_big.classList.add("display_big_ini"),dis_big.classList.remove("img_high")},align_dis_big=function(){dis_big.style.left=0;window.innerHeight/100*96-80;dis_big.classList.add("img_high");var e=rech(dis_big.children[1]);dis_big.style.left=e[0]+"vw",dis_big.style.top=e[1]+"vh",clicker.style.marginTop="calc("+parseInt(-e[1])+"vh - 80px)"},arrow=function(e){if(window.location.href.indexOf("bildergalerien")==-1||dis_big.classList.contains("display_big_ini"))return!1;if(e||(e=window.event),37==e.keyCode||39==e.keyCode){if(37==e.keyCode)var t=parseInt(dis_big.children[1].src.slice(-7))-1;if(39==e.keyCode)var t=parseInt(dis_big.children[1].src.slice(-7))+1;t>dis_big.gal_max-1&&(t=1),t<1&&(t=dis_big.gal_max-1),dis_big.children[1].src=dis_big.children[1].src.substring(0,dis_big.children[1].src.length-7)+add_zeros(t)+".jpg"}};window.addEventListener("resize",function(){window.location.href.indexOf("bildergalerien")!=-1&&align_dis_big()},!1),document.addEventListener("keyup",function(e){arrow(e)},!1),document.addEventListener("DOMContentLoaded",function(e){if(window.location.href.indexOf("bildergalerien")==-1)return console.log("not bildergalerien"),!1;console.log("window.location.href "),botsi_content=document.querySelector("#botsi_content"),lp=document.createElement("div"),lp.id="lp",lp.classList.add("display_big_ini"),botsi_content.parentNode.appendChild(lp),clicker=document.querySelector("#clicker");var t=document.querySelector("#dis_big");t.changeIhId,t.job=0,t.gal_max=1,t.classList.add("display_big_ini"),t.addEventListener("mouseover",function(e){clicker.style.display="block"},!1),t.addEventListener("mouseout",function(e){clicker.style.display="none"},!1),t.addEventListener("mousemove",function(e){clicker.style.display="block";var i=window.innerWidth/100;clicker.style.left=e.clientX-this.getBoundingClientRect().left-i+"px",clicker.style.top=e.clientY-i+"px",clearTimeout(this.changeIhId),this.changeIhId=setTimeout(function(){var e=t.offsetWidth-2*i;parseInt(clicker.style.left)<e/3?t.job!=-1&&(t.job=-1,clicker.innerHTML='<i class="fa fa-chevron-left" aria-hidden="true"></i>'):parseInt(clicker.style.left)>.666*e?1!=t.job&&(t.job=1,clicker.innerHTML='<i class="fa fa-chevron-right" aria-hidden="true"></i>'):0!=t.job&&(t.job=0,clicker.innerHTML='<i class="fa fa-times" aria-hidden="true"></i>')},20)},!1),t.addEventListener("click",function(e){if(0==this.job)sh_big(this);else{var i=parseInt(t.children[1].src.slice(-7))+this.job;i>this.gal_max-1&&(i=1),i<1&&(i=this.gal_max-1),t.children[1].src=t.children[1].src.substring(0,t.children[1].src.length-7)+add_zeros(i)+".jpg"}},!1),loadXMLDoc("../botsi/inhalte.php?ordner=../images/years&zuza"+Math.floor(1e3*Math.random()+1),function(){if(4==xmlhttp.readyState)if(200==xmlhttp.status){var e=xmlhttp.responseText.split(" ").sort().reverse(),t=/_/;folders=e.filter(function(e){return t.test(e)}),console.log(folders),talk()}else console.log("get_images_array shit happens")})});